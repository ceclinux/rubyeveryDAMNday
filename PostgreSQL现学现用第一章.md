## schema

`ANSI SQL`标准中对`schema`有明确的定义，`datebase`的下一层逻辑就是`schema`。如果把`database`比作一个国家，那么`schema`就是一些独立的州。大多数对象是隶属于某个`schema`的，然后`schema`又隶属于某个`database`。在创建一个新的`database`时，`PostgreSQL`会为其创建一个名为`public`的`schema`。如果未设置`search_path`变量，那么`PostgreSQL`会将你创建的所有对象默认放入`public_schma`中。如果表的数量较少，那是没有问题的，但如果你有几千张表，那么我们还是见你将他们分别放入不同的`schema`中。

## catelog

`catelog`是系统级的`schema`，用于储存系统函数和系统元数据。每个`database`创建好以后默认都会含有两个`catelog`：一个名为`pg_catalog`，用于储存`PostgreSQL`系统自带的函数、表、系统视图、数据类型转换器以及数据定义等元数据；另一个是`information_schema`，用于储存`ANSI`标准中所要求提供元数据查询视图，这些视图遵从`ANSI SQL`标准的要求，以指定的格式向外界提高`PostgreSQL`元数据信息。

`PostgreSQL` `information_schema`中最常见的视图一般有以下几个：`column`视图，列出所有数据库中的所有表列；`tables`视图，列出了数据库中的所有表（包括视图）；`views`视图，列出了所有视图以及用于构建或重新构建该属土的关联`SQL`。

在`PostgreSQL`中，表首先属于`schema`，而`schema`又属于某个`database`，这样就构成了一种三级储存结构。

## 数据类型转换器

`cast`是数据类型转换器，就是将一种数据类型转换成另一种类型的工具。转换器在其底层其实是通过调用转换函数来实现真正的转换逻辑的。`PostgreSQL `的独到之处在于支持用户自定义转换器，这样就可以改变系统默认的转换行为。例如，如果你需要把邮政编码（美国的邮政编码是一个五位的整数）从`integer`转换为`character`，那么可以自定义一个支持”数字不足5位“则前面自动补0规则的转换器。转换器可以被隐式调用也可以被显示调用。隐式调用是系统自动执行的。一般来说，将一种特定数据类型转为更通用的数据类型时，就会发现隐式类型转换。如果进行隐式转换时找不到合适的转换器，你就必须显示执行转换动作。

## 触发器

绝大多数企业级数据库都支持触发机制，该机制可以实现对数据修改事件的捕获，并在之后出发用户自定义的操作行为。触发器的触发时机是可设置的，可以是语句级触发或者记录级触发，可以是修改前触发也可以是修改后触发。
